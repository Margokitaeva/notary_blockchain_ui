<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.dp.notary.blockchain.ui.TransactionFormController"
      spacing="12"
      stylesheets="@../css/transaction_form.css"
      styleClass="txform-root">

    <!-- HEADER -->
    <VBox spacing="4">
        <Label fx:id="formTitle" text="Create New Transaction" styleClass="txform-title"/>
        <Label fx:id="formSubtitle" text="Fill in fields and submit or save as draft." styleClass="txform-subtitle"/>
    </VBox>

    <Separator/>

    <!-- META (read-only, optional to show) -->
    <HBox spacing="10" alignment="CENTER_LEFT" styleClass="txform-meta">
        <Label text="Created by:" styleClass="txform-meta-label"/>
        <Label fx:id="createdByLabel" text="-" styleClass="txform-meta-value"/>

        <Region HBox.hgrow="ALWAYS"/>

        <Label text="On save:" styleClass="txform-meta-label"/>
        <Label text="timestamp will be updated automatically" styleClass="txform-meta-hint"/>
    </HBox>

    <Separator/>

    <!-- FORM -->
    <GridPane hgap="12" vgap="10" styleClass="txform-grid">
        <columnConstraints>
            <ColumnConstraints minWidth="150" prefWidth="170" maxWidth="220"/>
            <ColumnConstraints hgrow="ALWAYS"/>
        </columnConstraints>

        <!-- Type -->
        <Label text="Type" styleClass="txform-label" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
        <ComboBox fx:id="typeCombo" prefWidth="260"
                  GridPane.rowIndex="0" GridPane.columnIndex="1"/>

        <!-- Initiator -->
        <Label text="Initiator" styleClass="txform-label" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
        <TextField fx:id="initiatorField" promptText="Owner name / id"
                   styleClass="txform-input"
                   GridPane.rowIndex="1" GridPane.columnIndex="1"/>

        <!-- Target -->
        <Label text="Target" styleClass="txform-label" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
        <TextField fx:id="targetField" promptText="Owner name / id"
                   styleClass="txform-input"
                   GridPane.rowIndex="2" GridPane.columnIndex="1"/>

        <!-- Amount -->
        <Label text="Amount" styleClass="txform-label" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
        <TextField fx:id="amountField" promptText="number"
                   styleClass="txform-input"
                   GridPane.rowIndex="3" GridPane.columnIndex="1"/>

        <!-- Error line -->
        <Label fx:id="errorLabel"
               text=""
               visible="false" managed="false"
               styleClass="txform-error"
               GridPane.rowIndex="4" GridPane.columnIndex="1"/>
    </GridPane>

    <Region VBox.vgrow="ALWAYS"/>

    <Separator/>

    <!-- ACTION BAR: left Cancel, center Draft, right Submit -->
    <HBox spacing="10" alignment="CENTER_LEFT" styleClass="txform-actions">
        <Button fx:id="cancelBtn" text="Cancel" onAction="#onCancel" styleClass="txform-btn"/>

        <Region HBox.hgrow="ALWAYS"/>

        <Button fx:id="draftBtn" text="Save to drafts" onAction="#onSaveDraft" styleClass="txform-btn"/>

        <Region HBox.hgrow="ALWAYS"/>

        <Button fx:id="submitBtn" text="Submit" onAction="#onSubmit" styleClass="txform-btn txform-primary"/>
    </HBox>

</VBox>
